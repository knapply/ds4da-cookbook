[
["index.html", "ds4da Cookbook Recipes for Success Welcome", " ds4da Cookbook Recipes for Success Brendan Knapp and Christopher Callaghan 2020-09-24 Welcome Test &lt;- == != test &lt;- &quot;face&quot; "],
["preface.html", "Preface", " Preface init "],
["setup-r-and-rstudio.html", "1 R and RStudio 1.1 R 1.2 RStudio", " 1 R and RStudio 1.1 R 1.1.1 Installation https://cran.r-project.org/ 1.2 RStudio 1.2.1 Installation https://rstudio.com/products/rstudio/download/ "],
["tabular-data.html", "2 Tabular Data 2.1 Basics 2.2 Common Pitfalls 2.3 Alternatives", " 2 Tabular Data Aliases: Tabular files Flat Delimited Includes: Comma-Separated Value (.csv) Tab-Separated Value (.tsv) 2.1 Basics library(readr) Hereâ€™s some example data, modified from http://www.gapminder.org/data/ country,continent,year,lifeExp,pop,gdpPercap # header/column names, separated by commas Afghanistan,Asia,1952,28.801,8425333,779.4453145 Afghanistan,Asia,1957,30.332,9240934,820.8530296 # comma-separated values Afghanistan,Asia,1962,31.997,10267083,853.10071 Afghanistan,Asia,1967,34.02,11537966,836.1971382 Afghanistan,Asia,1972,36.088,13079460,739.9811058 Afghanistan,Asia,1977,38.438,14880372,786.11336 Afghanistan,Asia,1982,39.854,12881816,978.0114388 Afghanistan,Asia,1987,40.822,13867957,852.3959448 csv_text &lt;- &#39;country,continent,year,lifeExp,pop,gdpPercap Afghanistan,Asia,1952,28.801,8425333,779.4453145 Afghanistan,Asia,1957,30.332,9240934,820.8530296 Afghanistan,Asia,1962,31.997,10267083,853.10071 Afghanistan,Asia,1967,34.02,11537966,836.1971382 Afghanistan,Asia,1972,36.088,13079460,739.9811058 Afghanistan,Asia,1977,38.438,14880372,786.11336 Afghanistan,Asia,1982,39.854,12881816,978.0114388 Afghanistan,Asia,1987,40.822,13867957,852.3959448&#39; csv_file &lt;- tempfile(fileext = &quot;.csv&quot;) csv_file # a temporary file path ## [1] &quot;/tmp/RtmplR4twa/file457f29b87d8e.csv&quot; writeLines(text = csv_text, con = csv_file) # write `csv_text` to `csv_file` read_csv(file = csv_file) ## Parsed with column specification: ## cols( ## country = col_character(), ## continent = col_character(), ## year = col_double(), ## lifeExp = col_double(), ## pop = col_double(), ## gdpPercap = col_double() ## ) ## # A tibble: 8 x 6 ## country continent year lifeExp pop gdpPercap ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 Afghanistan Asia 1952 28.8 8425333 779. ## 2 Afghanistan Asia 1957 30.3 9240934 821. ## 3 Afghanistan Asia 1962 32.0 10267083 853. ## 4 Afghanistan Asia 1967 34.0 11537966 836. ## 5 Afghanistan Asia 1972 36.1 13079460 740. ## 6 Afghanistan Asia 1977 38.4 14880372 786. ## 7 Afghanistan Asia 1982 39.9 12881816 978. ## 8 Afghanistan Asia 1987 40.8 13867957 852. You may encounter Tab-Delimited data where values are separated by \\t instead of ,. Instead of readr::read_csv(), we can use readr::read_tsv(). tsv_text &lt;- &#39;country\\tcontinent\\tyear\\tlifeExp\\tpop\\tgdpPercap Afghanistan\\tAsia\\t1952\\t28.801\\t8425333\\t779.4453145 Afghanistan\\tAsia\\t1957\\t30.332\\t9240934\\t820.8530296 Afghanistan\\tAsia\\t1962\\t31.997\\t10267083\\t853.10071 Afghanistan\\tAsia\\t1967\\t34.02\\t11537966\\t836.1971382 Afghanistan\\tAsia\\t1972\\t36.088\\t13079460\\t739.9811058 Afghanistan\\tAsia\\t1977\\t38.438\\t14880372\\t786.11336 Afghanistan\\tAsia\\t1982\\t39.854\\t12881816\\t978.0114388 Afghanistan\\tAsia\\t1987\\t40.822\\t13867957\\t852.3959448&#39; tsv_file &lt;- tempfile(fileext = &quot;.tsv&quot;) writeLines(text = tsv_text, con = tsv_file) read_tsv(file = tsv_file) ## Parsed with column specification: ## cols( ## country = col_character(), ## continent = col_character(), ## year = col_double(), ## lifeExp = col_double(), ## pop = col_double(), ## gdpPercap = col_double() ## ) ## # A tibble: 8 x 6 ## country continent year lifeExp pop gdpPercap ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 Afghanistan Asia 1952 28.8 8425333 779. ## 2 Afghanistan Asia 1957 30.3 9240934 821. ## 3 Afghanistan Asia 1962 32.0 10267083 853. ## 4 Afghanistan Asia 1967 34.0 11537966 836. ## 5 Afghanistan Asia 1972 36.1 13079460 740. ## 6 Afghanistan Asia 1977 38.4 14880372 786. ## 7 Afghanistan Asia 1982 39.9 12881816 978. ## 8 Afghanistan Asia 1987 40.8 13867957 852. If we find ourselves reading delmited data that uses something other than \\t or , to separate values, we can use readr::read_delim(). pipe_separated_values_text &lt;- &#39;country|continent|year|lifeExp|pop|gdpPercap Afghanistan|Asia|1952|28.801|8425333|779.4453145 Afghanistan|Asia|1957|30.332|9240934|820.8530296 Afghanistan|Asia|1962|31.997|10267083|853.10071 Afghanistan|Asia|1967|34.02|11537966|836.1971382 Afghanistan|Asia|1972|36.088|13079460|739.9811058 Afghanistan|Asia|1977|38.438|14880372|786.11336 Afghanistan|Asia|1982|39.854|12881816|978.0114388 Afghanistan|Asia|1987|40.822|13867957|852.3959448&#39; psv_file &lt;- tempfile(fileext = &quot;.tsv&quot;) writeLines(text = pipe_separated_values_text, con = psv_file) read_delim(file = psv_file, delim = &quot;|&quot;) ## Parsed with column specification: ## cols( ## country = col_character(), ## continent = col_character(), ## year = col_double(), ## lifeExp = col_double(), ## pop = col_double(), ## `gdpPercap ` = col_double() ## ) ## # A tibble: 8 x 6 ## country continent year lifeExp pop `gdpPercap ` ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 Afghanistan Asia 1952 28.8 8425333 779. ## 2 Afghanistan Asia 1957 30.3 9240934 821. ## 3 Afghanistan Asia 1962 32.0 10267083 853. ## 4 Afghanistan Asia 1967 34.0 11537966 836. ## 5 Afghanistan Asia 1972 36.1 13079460 740. ## 6 Afghanistan Asia 1977 38.4 14880372 786. ## 7 Afghanistan Asia 1982 39.9 12881816 978. ## 8 Afghanistan Asia 1987 40.8 13867957 852. country,continent,year,lifeExp,pop,gdpPercap # header/column names Afghanistan,Asia,1952,28.801,8425333,779.4453145 Afghanistan,Asia,1957,30.332,9240934,820.8530296 Afghanistan,Asia,1962,31.997,10267083,853.10071 Afghanistan,Asia,1967,34.02,11537966,836.1971382 Afghanistan,Asia,1972,36.088,13079460,739.9811058 Afghanistan,Asia,1977,38.438,14880372,786.11336 Afghanistan,Asia,1982,39.854,12881816,978.0114388 Afghanistan,Asia,1987,40.822,13867957,852.3959448 Afghanistan,,,N/A,, # notice that we&#39;re missing values csv_text &lt;- &#39;country,continent,year,lifeExp,pop,gdpPercap Afghanistan,Asia,1952,28.801,8425333,779.4453145 Afghanistan,Asia,1957,30.332,9240934,820.8530296 Afghanistan,Asia,1962,31.997,10267083,853.10071 Afghanistan,Asia,1967,34.02,11537966,836.1971382 Afghanistan,Asia,1972,36.088,13079460,739.9811058 Afghanistan,Asia,1977,38.438,14880372,786.11336 Afghanistan,Asia,1982,39.854,12881816,978.0114388 Afghanistan,Asia,1987,40.822,13867957,852.3959448 Afghanistan,,,N/A,,&#39; csv_file &lt;- tempfile(fileext = &quot;.csv&quot;) writeLines(text = csv_text, con = csv_file) 2.2 Common Pitfalls 2.2.1 Incorrect Column Types data_frame_from_csv &lt;- read_csv(file = csv_file) ## Parsed with column specification: ## cols( ## country = col_character(), ## continent = col_character(), ## year = col_double(), ## lifeExp = col_character(), ## pop = col_double(), ## gdpPercap = col_double() ## ) data_frame_from_csv ## # A tibble: 9 x 6 ## country continent year lifeExp pop gdpPercap ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 Afghanistan Asia 1952 28.801 8425333 779. ## 2 Afghanistan Asia 1957 30.332 9240934 821. ## 3 Afghanistan Asia 1962 31.997 10267083 853. ## 4 Afghanistan Asia 1967 34.02 11537966 836. ## 5 Afghanistan Asia 1972 36.088 13079460 740. ## 6 Afghanistan Asia 1977 38.438 14880372 786. ## 7 Afghanistan Asia 1982 39.854 12881816 978. ## 8 Afghanistan Asia 1987 40.822 13867957 852. ## 9 Afghanistan &lt;NA&gt; NA N/A NA NA Notice that our year column says &lt;dbl&gt;, referring to it being of type double, yet all of our year values are whole numbers. typeof(data_frame_from_csv$year) ## [1] &quot;double&quot; data_frame_from_csv$year ## [1] 1952 1957 1962 1967 1972 1977 1982 1987 NA We also have \"N/A\" in our lifeExp column, forcing R to interpret all lifeExp values as characters (&lt;chr&gt;). typeof(data_frame_from_csv$lifeExp) ## [1] &quot;character&quot; data_frame_from_csv$lifeExp ## [1] &quot;28.801&quot; &quot;30.332&quot; &quot;31.997&quot; &quot;34.02&quot; &quot;36.088&quot; &quot;38.438&quot; &quot;39.854&quot; &quot;40.822&quot; ## [9] &quot;N/A&quot; 2.2.1.1 Solution read_csv( file = csv_file, col_types = cols( country = col_character(), continent = col_character(), year = col_integer(), # read `year` as `integer` lifeExp = col_double(), # read `lifeExp` as `double` pop = col_double(), gdpPercap = col_double() ), na = c(&quot;&quot;, &quot;N/A&quot;) # be explicit about how `csv_file` represents missing values ) ## # A tibble: 9 x 6 ## country continent year lifeExp pop gdpPercap ## &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 Afghanistan Asia 1952 28.8 8425333 779. ## 2 Afghanistan Asia 1957 30.3 9240934 821. ## 3 Afghanistan Asia 1962 32.0 10267083 853. ## 4 Afghanistan Asia 1967 34.0 11537966 836. ## 5 Afghanistan Asia 1972 36.1 13079460 740. ## 6 Afghanistan Asia 1977 38.4 14880372 786. ## 7 Afghanistan Asia 1982 39.9 12881816 978. ## 8 Afghanistan Asia 1987 40.8 13867957 852. ## 9 Afghanistan &lt;NA&gt; NA NA NA NA 2.3 Alternatives /* Style the tab */ .tab { overflow: hidden; border: 1px solid #ccc; background-color: #f1f1f1; } /* Style the buttons inside the tab */ .tab button { background-color: inherit; float: left; border: none; outline: none; cursor: pointer; padding: 14px 16px; transition: 0.3s; font-size: 17px; } /* Change background color of buttons on hover */ .tab button:hover { background-color: #ddd; } /* Create an active/current tablink class */ .tab button.active { background-color: #ccc; } /* Style the tab content */ .tabcontent { display: none; padding: 6px 12px; border: 1px solid #ccc; border-top: none; } Minimalist Advanced base_r &lt;- read.csv( file = csv_file, na.strings = c(&quot;&quot;, &quot;N/A&quot;) ) base_r ## country continent year lifeExp pop gdpPercap ## 1 Afghanistan Asia 1952 28.801 8425333 779.4453 ## 2 Afghanistan Asia 1957 30.332 9240934 820.8530 ## 3 Afghanistan Asia 1962 31.997 10267083 853.1007 ## 4 Afghanistan Asia 1967 34.020 11537966 836.1971 ## 5 Afghanistan Asia 1972 36.088 13079460 739.9811 ## 6 Afghanistan Asia 1977 38.438 14880372 786.1134 ## 7 Afghanistan Asia 1982 39.854 12881816 978.0114 ## 8 Afghanistan Asia 1987 40.822 13867957 852.3959 ## 9 Afghanistan &lt;NA&gt; NA NA NA NA str(base_r) ## &#39;data.frame&#39;: 9 obs. of 6 variables: ## $ country : chr &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; ... ## $ continent: chr &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; ... ## $ year : int 1952 1957 1962 1967 1972 1977 1982 1987 NA ## $ lifeExp : num 28.8 30.3 32 34 36.1 ... ## $ pop : int 8425333 9240934 10267083 11537966 13079460 14880372 12881816 13867957 NA ## $ gdpPercap: num 779 821 853 836 740 ... base_r &lt;- read.csv( file = csv_file, colClasses = c( country = &quot;character&quot;, continent = &quot;character&quot;, year = &quot;integer&quot;, lifeExp = &quot;double&quot;, pop = &quot;double&quot;, gdpPercap = &quot;double&quot; ), na.strings = c(&quot;&quot;, &quot;N/A&quot;) ) base_r ## country continent year lifeExp pop gdpPercap ## 1 Afghanistan Asia 1952 28.801 8425333 779.4453 ## 2 Afghanistan Asia 1957 30.332 9240934 820.8530 ## 3 Afghanistan Asia 1962 31.997 10267083 853.1007 ## 4 Afghanistan Asia 1967 34.020 11537966 836.1971 ## 5 Afghanistan Asia 1972 36.088 13079460 739.9811 ## 6 Afghanistan Asia 1977 38.438 14880372 786.1134 ## 7 Afghanistan Asia 1982 39.854 12881816 978.0114 ## 8 Afghanistan Asia 1987 40.822 13867957 852.3959 ## 9 Afghanistan &lt;NA&gt; NA NA NA NA str(base_r) ## &#39;data.frame&#39;: 9 obs. of 6 variables: ## $ country : chr &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; ... ## $ continent: chr &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; ... ## $ year : int 1952 1957 1962 1967 1972 1977 1982 1987 NA ## $ lifeExp : num 28.8 30.3 32 34 36.1 ... ## $ pop : num 8425333 9240934 10267083 11537966 13079460 ... ## $ gdpPercap: num 779 821 853 836 740 ... options(datatable.print.class = TRUE) data.table::fread( file = csv_file, na.strings = c(&quot;&quot;, &quot;N/A&quot;) ) ## country continent year lifeExp pop gdpPercap ## &lt;char&gt; &lt;char&gt; &lt;int&gt; &lt;num&gt; &lt;int&gt; &lt;num&gt; ## 1: Afghanistan Asia 1952 28.801 8425333 779.4453 ## 2: Afghanistan Asia 1957 30.332 9240934 820.8530 ## 3: Afghanistan Asia 1962 31.997 10267083 853.1007 ## 4: Afghanistan Asia 1967 34.020 11537966 836.1971 ## 5: Afghanistan Asia 1972 36.088 13079460 739.9811 ## 6: Afghanistan Asia 1977 38.438 14880372 786.1134 ## 7: Afghanistan Asia 1982 39.854 12881816 978.0114 ## 8: Afghanistan Asia 1987 40.822 13867957 852.3959 ## 9: Afghanistan &lt;NA&gt; NA NA NA NA "]
]
